# Добро пожаловать

Читаете ли вы это онлайн или в книге, добро пожаловать в нашу подборку заметок о разработке операционных систем! Мы написали их во время написания (и перезаписи) наших собственных ядер с целью ознакомить читателя с различными этапами создания операционной системы с нуля. Мы постарались уделить больше внимания концепциям и теории, лежащим в основе различных компонентов, а код был предоставлен только для того, чтобы помочь закрепить некоторые концепции.

Мы надеемся, что вам понравится и вы найдете здесь что-нибудь интересное!

## Структура Книги

Книга разделена на части, и каждая часть состоит из одной или нескольких глав. Каждая пронумерованная глава добавляет новый уровень в ядро, расширяя его возможности. Хотя читать их по порядку не обязательно, это рекомендуется, поскольку некоторые последующие главы могут ссылаться на предыдущие.

В конце книги также есть ряд приложений, охватывающих некоторые дополнительные темы, которые могут оказаться полезными в дальнейшем. Приложения предназначены для использования в качестве справочных материалов и могут быть прочитаны в любое время.

### Рассмотренные темы

Как мы уже упоминали, наша главная цель здесь - провести читателя через общий процесс создания ядра (и сопутствующей операционной системы). Мы используем "x86_64" в качестве эталонной архитектуры, но большинство концепций следует перенести на другие архитектуры, за исключением самых ранних этапов загрузки.

Ниже приведен список разделов, из которых состоит книга.:

* * Процесс сборки* - Первая часть посвящена созданию подходящей среды для разработки операционных систем, описанию необходимых инструментов и шагов, необходимых для сборки и тестирования ядра.
* *Архитектура/драйверы* - Эта часть содержит большинство компонентов, относящихся к конкретной архитектуре, а также большинство структур данных и базовых механизмов аппаратного обеспечения, которые нам понадобятся. В нее также включены некоторые ранние драйверы, которые очень пригодятся при дальнейшей разработке (например, клавиатура и таймер).
* * Вывод видео* - В этой части рассматривается работа с линейными буферами кадров и то, как мы можем отображать в них текст, чтобы облегчить раннюю отладку.
* *Управление памятью* - В этой части рассматривается стек управления памятью ядра. Мы рассмотрим все уровни, начиная с менеджера физической памяти и заканчивая менеджером виртуальной памяти и кучей.
* *Планирование* - Современная операционная система должна поддерживать одновременный запуск нескольких программ. В этой части мы рассмотрим, как реализуются процессы и потоки, напишем простой планировщик и рассмотрим некоторые типичные возникающие проблемы параллелизма.
* * Пользовательское пространство* - Многие современные архитектуры поддерживают разный уровень привилегий, что означает, что программы, работающие на более низких уровнях, не могут получить доступ к ресурсам/данным, зарезервированным для более высоких уровней.
* * Взаимодействие между процессами (IPC)* - В этой части рассматривается, как мы могли бы реализовать IPC для нашего ядра, позволяя изолированным программам взаимодействовать друг с другом контролируемым образом.
* * Виртуальная файловая система (VFS)* - В этой части будет рассказано о том, как ядро представляет различные файловые системы для остальной части системы. Мы также рассмотрим реализацию tempfs, которая загружается из ленточного архива (tar), аналогично initrd.
* * Формат ELF* - Если у нас есть файловая система, из которой мы можем загружать файлы, почему бы не загрузить программу? В этой части рассматривается написание простого загрузчика программ для двоичных файлов ELF64 и почему вы хотели бы использовать этот формат.
* * Выход за рамки* - Заключительная часть (на данный момент). Мы реализовали все основные компоненты ядра и можем двигаться дальше. В этой заключительной главе содержатся некоторые идеи для новых компонентов, которые мы, возможно, захотим добавить или, по крайней мере, начнем обдумывать.

В приложениях мы рассматриваем различные темы, начиная с советов по отладке, информации о специфике языка, устранении неполадок и т.д.
